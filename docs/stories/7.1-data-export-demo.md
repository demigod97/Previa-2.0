# Story 7.1: Data Export Demo Screen

## Status: Approved
## Story

As a **demo viewer evaluating Previa's MVP**,
I want **a viewing-only data export interface that shows how users will export their financial data**,
So that **I can understand the export capabilities without requiring full implementation**.

## Acceptance Criteria

**AC1: Demo Mode Banner**
- Display prominent banner at top: "üîç Demo Mode - Sample Data for Demonstration"
- Banner styled with yellow/gold background (Previa sand color)
- Clear text: "This is a preview. Export functionality coming in Q1 2026."
- Dismissible (X button in corner)

**AC2: Export Format Selection**
- Radio button group for format selection:
  - ‚úÖ CSV (Comma-Separated Values) - Default selected
  - ‚úÖ JSON (JavaScript Object Notation)
  - üîí Xero Import Format (Coming Q2 2026)
  - üîí QuickBooks IIF Format (Coming Q2 2026)
- Each option shows icon, format name, description
- Locked formats display lock icon and "Coming Soon" badge
- Format descriptions:
  - CSV: "Universal format for Excel, Google Sheets"
  - JSON: "Developer-friendly format for APIs"
  - Xero: "Direct import to Xero accounting software"
  - QuickBooks: "Direct import to QuickBooks Desktop"

**AC3: Date Range Selector**
- Start date picker (default: first day of current month)
- End date picker (default: today)
- Quick select buttons:
  - "This Month" (current month to date)
  - "Last Month" (previous month full)
  - "This Quarter" (Q1/Q2/Q3/Q4)
  - "This Year" (January 1 to today)
  - "All Time" (all transactions)
- Date validation: End date must be after start date

**AC4: Category Filters**
- Multi-select dropdown for categories
- Default: All categories selected
- Categories with sample counts:
  - ‚òëÔ∏è Groceries (45 transactions)
  - ‚òëÔ∏è Dining (23 transactions)
  - ‚òëÔ∏è Fuel (18 transactions)
  - ‚òëÔ∏è Transport (12 transactions)
  - ‚òëÔ∏è Shopping (34 transactions)
  - ‚òëÔ∏è Hardware (8 transactions)
  - ‚òëÔ∏è Pharmacy (6 transactions)
  - ‚òëÔ∏è Utilities (9 transactions)
  - ‚òëÔ∏è Income (4 transactions)
  - ‚òëÔ∏è Other (15 transactions)
- "Select All" / "Deselect All" buttons

**AC5: Export Preview Table**
- Display first 20 transactions matching filters
- Table columns:
  - Date (DD/MM/YYYY)
  - Description (merchant name)
  - Category (badge color-coded)
  - Amount (AUD $, red for expenses, green for income)
  - Reconciled (‚úÖ Yes, ‚è≥ Pending, ‚ùå No)
  - Receipt (üßæ icon if attached, empty if not)
- Pagination controls (20 per page)
- Total count: "Showing 20 of 174 transactions"
- Total amount summary: "Total: -$2,345.67 (Expenses: -$2,545.67, Income: +$200.00)"

**AC6: Export Settings**
- Checkbox: "Include receipt attachments" (disabled in demo with tooltip "Available in full version")
- Checkbox: "Include GST breakdown" (checked by default)
- Checkbox: "Include account details" (checked by default)
- Checkbox: "Include reconciliation status" (checked by default)

**AC7: Download Button (Disabled)**
- Large primary button: "Download Export"
- Button styled as disabled (grey, no hover)
- Tooltip on hover: "Demo mode - Export will be available in Q1 2026 release"
- Click shows toast: "This is a demo preview. Export functionality coming soon!"

**AC8: Mock Data**
- Use `src/test/fixtures/financial-data.ts` for sample transactions
- 174 total transactions (last 6 months)
- 8 Australian merchants (Woolworths, Coles, BP, etc.)
- Realistic amounts, dates, categories

## Tasks / Subtasks

- [ ] **Task 1: Demo Page Setup** (AC: 1)
  - [ ] 1.1: Create `src/pages/demo/DataExportDemo.tsx`
  - [ ] 1.2: Add route `/dashboard/demo/data-export` in router
  - [ ] 1.3: Create DemoBanner component (reusable)
  - [ ] 1.4: Add to sidebar navigation (under "Demo Features")

- [ ] **Task 2: Format Selection UI** (AC: 2)
  - [ ] 2.1: Create ExportFormatSelector component
  - [ ] 2.2: Radio button group with 4 formats
  - [ ] 2.3: Format icons (CSV, JSON, Xero, QuickBooks)
  - [ ] 2.4: Lock icon for unavailable formats
  - [ ] 2.5: Format description text
  - [ ] 2.6: State management (selected format)

- [ ] **Task 3: Date Range Picker** (AC: 3)
  - [ ] 3.1: Create DateRangeSelector component
  - [ ] 3.2: Chakra UI DatePicker integration
  - [ ] 3.3: Quick select buttons (This Month, Last Month, etc.)
  - [ ] 3.4: Date validation logic
  - [ ] 3.5: State management (start date, end date)

- [ ] **Task 4: Category Filters** (AC: 4)
  - [ ] 4.1: Create CategoryFilter component
  - [ ] 4.2: Multi-select dropdown (Chakra UI MultiSelect)
  - [ ] 4.3: Sample transaction counts per category
  - [ ] 4.4: "Select All" / "Deselect All" buttons
  - [ ] 4.5: State management (selected categories)

- [ ] **Task 5: Export Preview Table** (AC: 5)
  - [ ] 5.1: Create ExportPreviewTable component
  - [ ] 5.2: AG-Grid table with 7 columns
  - [ ] 5.3: Currency formatting (AUD $)
  - [ ] 5.4: Color-coded amounts (red/green)
  - [ ] 5.5: Badge components for category, reconciliation status
  - [ ] 5.6: Pagination (20 per page)
  - [ ] 5.7: Total count and amount summary
  - [ ] 5.8: Filter mock data by date range and categories

- [ ] **Task 6: Export Settings** (AC: 6)
  - [ ] 6.1: Create ExportSettings component
  - [ ] 6.2: Checkbox group with 4 options
  - [ ] 6.3: Tooltip for "Include receipt attachments"
  - [ ] 6.4: State management (export settings)

- [ ] **Task 7: Download Button** (AC: 7)
  - [ ] 7.1: Large primary button (Chakra UI Button)
  - [ ] 7.2: Disabled styling (grey, no cursor pointer)
  - [ ] 7.3: Tooltip on hover
  - [ ] 7.4: Toast notification on click
  - [ ] 7.5: Toast component (Chakra UI useToast)

- [ ] **Task 8: Mock Data Integration** (AC: 8)
  - [ ] 8.1: Import financial-data.ts fixtures
  - [ ] 8.2: Generate 174 transactions (6 months)
  - [ ] 8.3: Filter by date range
  - [ ] 8.4: Filter by categories
  - [ ] 8.5: Calculate totals (expenses, income)

## Technical Implementation

**File Structure:**
```
src/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ demo/
‚îÇ       ‚îú‚îÄ‚îÄ DataExportDemo.tsx        # Main page
‚îÇ       ‚îî‚îÄ‚îÄ index.ts                  # Export all demo pages
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ demo/
‚îÇ       ‚îú‚îÄ‚îÄ DemoBanner.tsx            # Reusable banner
‚îÇ       ‚îú‚îÄ‚îÄ ExportFormatSelector.tsx  # Format selection
‚îÇ       ‚îú‚îÄ‚îÄ DateRangeSelector.tsx     # Date range picker
‚îÇ       ‚îú‚îÄ‚îÄ CategoryFilter.tsx        # Category multi-select
‚îÇ       ‚îú‚îÄ‚îÄ ExportPreviewTable.tsx    # Preview table
‚îÇ       ‚îî‚îÄ‚îÄ ExportSettings.tsx        # Settings checkboxes
```

**Dependencies:**
- Chakra UI (existing): Button, Checkbox, Radio, Select, useToast
- AG-Grid (existing): Table component
- date-fns (existing): Date formatting
- financial-data.ts (existing): Mock data

**Styling:**
- Previa color palette (cream/stone/sand)
- Responsive layout (stack on mobile)
- Demo banner: Sand (#D9C8B4) background, Charcoal (#403B31) text
- Disabled button: Gray 300, no hover effect

## Acceptance Testing

**Scenario 1: View Export Interface**
- Given: User navigates to `/dashboard/demo/data-export`
- When: Page loads
- Then: Demo banner is visible, all UI elements render correctly

**Scenario 2: Select Export Format**
- Given: User is on Data Export Demo page
- When: User clicks "JSON" radio button
- Then: JSON format is selected, description updates

**Scenario 3: Change Date Range**
- Given: User is on Data Export Demo page
- When: User clicks "Last Month" quick select
- Then: Date pickers update, preview table shows filtered transactions

**Scenario 4: Filter Categories**
- Given: User is on Data Export Demo page
- When: User deselects "Groceries" category
- Then: Preview table updates, transaction count decreases

**Scenario 5: Click Download Button**
- Given: User has selected format, date range, categories
- When: User clicks "Download Export" button
- Then: Toast notification appears: "This is a demo preview. Export functionality coming soon!"

## User Impact

**For Demo Viewers:**
- Clear understanding of export capabilities
- See supported formats (CSV, JSON, future Xero/QuickBooks)
- Understand filtering options (date range, categories)
- See export preview with realistic data

**For Development Team:**
- Define export feature requirements
- Validate UI/UX before implementation
- Provide basis for Story 6.1 (actual implementation)

## Related Stories

- **Story 6.1: Data Export (Real Implementation)** - Q1 2026
- **Story 7.2: Advanced Analytics Demo** - Mock analytics dashboard
- **Epic 6: Data Export** - Full export functionality

## Estimated Effort

- **Design:** 0.5 days
- **Development:** 2-3 days
- **Testing:** 0.5 days
- **Total:** 3-4 days

## Notes

- This is a **viewing-only demo screen** for MVP submission
- No backend implementation required (all mock data)
- Demonstrates future feature for FIT3195 Assessment 3
- Real implementation (Story 6.1) scheduled for Q1 2026
